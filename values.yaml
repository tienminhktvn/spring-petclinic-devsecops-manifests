namespace: spring-petclinic
createNamespace: true

# Global image settings
imageRegistry: tienminhktvn2
imagePullPolicy: Always
imagePullSecrets:
  - name: regcred

# Global configuration URLs
config:
  discoveryServer:
    url: http://discovery-server:8761
  configServer:
    url: http://config-server:8888

# Service definitions
services:
  # Infrastructure services
  configServer:
    enabled: true
    name: config-server
    image: spring-petclinic-config-server
    tag: latest
    port: 8888
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: true
    initContainers:
      waitForConfig: false
      waitForDiscovery: false

  discoveryServer:
    enabled: true
    name: discovery-server
    image: spring-petclinic-discovery-server
    tag: latest
    port: 8761
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: true
    initContainers:
      waitForConfig: true
      waitForDiscovery: false

  # API Gateway
  apiGateway:
    enabled: true
    name: api-gateway
    image: spring-petclinic-api-gateway
    tag: latest
    port: 8080
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: true
    initContainers:
      waitForConfig: true
      waitForDiscovery: true
    needsEureka: true

  # Business services
  customersService:
    enabled: true
    name: customers-service
    image: spring-petclinic-customers-service
    tag: latest
    port: 8081
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: false
    initContainers:
      waitForConfig: true
      waitForDiscovery: true
    needsEureka: true

  vetsService:
    enabled: true
    name: vets-service
    image: spring-petclinic-vets-service
    tag: latest
    port: 8083
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: false
    initContainers:
      waitForConfig: true
      waitForDiscovery: true
    needsEureka: true

  visitsService:
    enabled: true
    name: visits-service
    image: spring-petclinic-visits-service
    tag: latest
    port: 8082
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: false
    initContainers:
      waitForConfig: true
      waitForDiscovery: true
    needsEureka: true

  genaiService:
    enabled: true
    name: genai-service
    image: spring-petclinic-genai-service
    tag: latest
    port: 8084
    replicas: 1
    serviceType: NodePort
    ingress:
      enabled: false
    initContainers:
      waitForConfig: true
      waitForDiscovery: true
    needsEureka: true
    env:
      - name: OPENAI_API_KEY
        value: "None"
      - name: AZURE_OPENAI_KEY
        value: "None"
      - name: AZURE_OPENAI_ENDPOINT
        value: "None"

# Configuration for all metrics, and mesh visualization tools
observability:
  # Kiali configuration
  kiali:
    namespace: istio-system
    serviceType: NodePort

  # Prometheus configuration
  prometheus:
    namespace: istio-system
    serviceType: NodePort

# Ingress global settings
ingress:
  className: nginx
  baseDomain: spring-petclinic
